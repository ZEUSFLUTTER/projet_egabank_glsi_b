<div class="container mx-auto max-w-4xl">
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-800 mb-2">Transactions</h1>
    <p class="text-gray-600">Effectuer des dépôts, retraits et transferts</p>
  </div>

  <div *ngIf="successMessage" class="mb-4 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg">
    {{ successMessage }}
  </div>
  
  <div *ngIf="errorMessage" class="mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg">
    {{ errorMessage }}
  </div>

  <!-- Tabs -->
  <div class="card mb-6">
    <div class="flex border-b">
      <button 
        (click)="setActiveTab('depot')"
        [class.border-primary-600]="activeTab === 'depot'"
        [class.text-primary-600]="activeTab === 'depot'"
        class="px-6 py-3 font-medium border-b-2 border-transparent hover:text-primary-600 flex items-center gap-2"
      >
        <fa-icon [icon]="faArrowDown"></fa-icon>
        Dépôt
      </button>
      <button 
        (click)="setActiveTab('retrait')"
        [class.border-primary-600]="activeTab === 'retrait'"
        [class.text-primary-600]="activeTab === 'retrait'"
        class="px-6 py-3 font-medium border-b-2 border-transparent hover:text-primary-600 flex items-center gap-2"
      >
        <fa-icon [icon]="faArrowUp"></fa-icon>
        Retrait
      </button>
      <button 
        (click)="setActiveTab('transfer')"
        [class.border-primary-600]="activeTab === 'transfer'"
        [class.text-primary-600]="activeTab === 'transfer'"
        class="px-6 py-3 font-medium border-b-2 border-transparent hover:text-primary-600 flex items-center gap-2"
      >
        <fa-icon [icon]="faExchangeAlt"></fa-icon>
        Transfert
      </button>
    </div>

    <!-- Depot Form -->
    <div *ngIf="activeTab === 'depot'" class="p-6">
      <form [formGroup]="depotForm" (ngSubmit)="onDeposit()" class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1">Numéro de Compte</label>
          <input type="text" formControlName="accountNumber" class="input-field" placeholder="FR76...">
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Montant (FCFA)</label>
          <input type="number" formControlName="amount" class="input-field" placeholder="0.00">
        </div>
        <button type="submit" [disabled]="!depotForm.valid || loading" class="btn-primary w-full">
          {{ loading ? 'En cours...' : 'Effectuer le Dépôt' }}
        </button>
      </form>
    </div>

    <!-- Retrait Form -->
    <div *ngIf="activeTab === 'retrait'" class="p-6">
      <form [formGroup]="retraitForm" (ngSubmit)="onWithdraw()" class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1">Numéro de Compte</label>
          <input type="text" formControlName="accountNumber" class="input-field" placeholder="FR76...">
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Montant (FCFA)</label>
          <input type="number" formControlName="amount" class="input-field" placeholder="0.00">
        </div>
        <button type="submit" [disabled]="!retraitForm.valid || loading" class="btn-danger w-full">
          {{ loading ? 'En cours...' : 'Effectuer le Retrait' }}
        </button>
      </form>
    </div>

    <!-- Transfer Form -->
    <div *ngIf="activeTab === 'transfer'" class="p-6">
      <form [formGroup]="transferForm" (ngSubmit)="onTransfer()" class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1">Compte Source</label>
          <input type="text" formControlName="sourceAccount" class="input-field" placeholder="FR76...">
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Compte Destination</label>
          <input type="text" formControlName="destAccount" class="input-field" placeholder="FR76...">
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Montant (FCFA)</label>
          <input type="number" formControlName="amount" class="input-field" placeholder="0.00">
        </div>
        <button type="submit" [disabled]="!transferForm.valid || loading" class="btn-primary w-full">
          {{ loading ? 'En cours...' : 'Effectuer le Transfert' }}
        </button>
      </form>
    </div>
  </div>
</div>
