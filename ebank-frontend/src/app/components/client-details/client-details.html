<div *ngIf="client" class="animate__animated animate__fadeIn">
  <!-- EN-TETE -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div class="d-flex align-items-center">
      <a routerLink="/admin/clients" class="btn btn-light rounded-circle me-3 border shadow-sm">
        <i class="bi bi-arrow-left"></i>
      </a>
      <div>
        <h2 class="fw-bold text-dark mb-0">{{client.prenom}} {{client.nom}}</h2>
        <p class="text-muted small mb-0">Client depuis le {{client.dateNaissance | date:'dd MMMM yyyy'}}</p>
      </div>
    </div>
        

<a [routerLink]="['/admin/edit-client', client.id]" class="btn btn-outline-secondary px-4 rounded-pill fw-bold border-2">
  <i class="bi bi-pencil me-2"></i>Modifier le profil
</a>

  
  </div>

  <!-- INFORMATIONS PERSONNELLES -->
  <div class="card border-0 shadow-sm rounded-4 p-4 mb-4">
    <h5 class="fw-bold mb-1">Informations Personnelles</h5>
    <p class="text-muted small mb-4">Détails de contact et informations privées</p>

    <div class="row g-4">
      <!-- Email -->
      <div class="col-md-4">
        <div class="d-flex align-items-center">
          <div class="icon-box-small bg-blue-light text-primary me-3"><i class="bi bi-envelope"></i></div>
          <div>
            <div class="extra-small text-muted fw-bold">EMAIL</div>
            <div class="small fw-medium">{{client.email}}</div>
          </div>
        </div>
      </div>
      <!-- Phone -->
      <div class="col-md-4">
        <div class="d-flex align-items-center">
          <div class="icon-box-small bg-blue-light text-primary me-3"><i class="bi bi-telephone"></i></div>
          <div>
            <div class="extra-small text-muted fw-bold">TÉLÉPHONE</div>
            <div class="small fw-medium">{{client.telephone}}</div>
          </div>
        </div>
      </div>
      <!-- Birth -->
      <div class="col-md-4">
        <div class="d-flex align-items-center">
          <div class="icon-box-small bg-blue-light text-primary me-3"><i class="bi bi-calendar-event"></i></div>
          <div>
            <div class="extra-small text-muted fw-bold">DATE DE NAISSANCE</div>
            <div class="small fw-medium">{{client.dateNaissance | date:'dd/MM/yyyy'}}</div>
          </div>
        </div>
      </div>
      <!-- Gender -->
      <div class="col-md-4">
        <div class="d-flex align-items-center">
          <div class="icon-box-small bg-blue-light text-primary me-3"><i class="bi bi-person"></i></div>
          <div>
            <div class="extra-small text-muted fw-bold">GENRE</div>
            <div class="small fw-medium">{{client.sexe === 'M' ? 'Masculin' : 'Féminin'}}</div>
          </div>
        </div>
      </div>
      <!-- Nat -->
      <div class="col-md-4">
        <div class="d-flex align-items-center">
          <div class="icon-box-small bg-blue-light text-primary me-3"><i class="bi bi-globe"></i></div>
          <div>
            <div class="extra-small text-muted fw-bold">NATIONALITÉ</div>
            <div class="small fw-medium">{{client.nationalite}}</div>
          </div>
        </div>
      </div>
      <!-- Address -->
      <div class="col-md-4">
        <div class="d-flex align-items-center">
          <div class="icon-box-small bg-blue-light text-primary me-3"><i class="bi bi-geo-alt"></i></div>
          <div>
            <div class="extra-small text-muted fw-bold">ADRESSE</div>
            <div class="small fw-medium">{{client.adresse}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- COMPTES BANCAIRES -->
  <div class="card border-0 shadow-sm rounded-4 overflow-hidden">
    <div class="card-header bg-white border-0 p-4 d-flex justify-content-between align-items-center">
      <div>
        <h5 class="fw-bold mb-0">Comptes Bancaires</h5>
        <span class="badge bg-light text-dark border mt-1">{{client.compteBancaires?.length || 0}} compte(s) enregistré(s)</span>
      </div>
      <a [routerLink]="['/admin/new-compte', client.id]" class="btn btn-primary px-4 rounded-pill fw-bold shadow-sm">
  <i class="bi bi-plus-lg me-2"></i>Ouvrir un compte
</a>
    </div>

    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="bg-light">
          <tr class="extra-small text-muted fw-bold">
            <th class="ps-4">IBAN</th>
            <th>TYPE</th>
            <th>SOLDE</th>
            <th>STATUT</th>
            <th class="text-end pe-4">ACTIONS</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let cpte of client.compteBancaires">
            <td class="ps-4 fw-medium">{{cpte.numCompte}}</td>
            <td>
              <span class="small fw-bold text-secondary">{{cpte.decouvert ? 'Courant' : 'Épargne'}}</span>
            </td>
            <td><span class="fw-bold">{{cpte.solde | number:'1.2-2'}} {{cpte.devis}}</span></td>
            <td>
              <span class="badge rounded-pill bg-success-subtle text-success border border-success-subtle px-3">actif</span>
            </td>
            <td class="text-end pe-4">
  <a [routerLink]="['/admin/account-details', cpte.numCompte]" class="btn btn-link text-primary text-decoration-none small fw-bold">
    Voir détails
  </a>
</td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="client.compteBancaires?.length === 0" class="text-center p-5 text-muted">
        Ce client ne possède pas encore de compte bancaire.
      </div>
    </div>
  </div>
</div>