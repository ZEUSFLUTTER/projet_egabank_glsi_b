<div class="admin-create-client-container">
  <h2>Créer un nouveau client</h2>
  <button class="back-btn" (click)="goBack()">Retour à la liste des clients</button>

  <form (ngSubmit)="createClient()" #clientForm="ngForm">
    <div class="form-group">
      <label for="nom">Nom *</label>
      <input type="text" id="nom" [(ngModel)]="clientData.nom" name="nom" required #nom="ngModel">
      <div class="error" *ngIf="nom.invalid && nom.touched">Le nom est requis.</div>
    </div>

    <div class="form-group">
      <label for="prenom">Prénom *</label>
      <input type="text" id="prenom" [(ngModel)]="clientData.prenom" name="prenom" required #prenom="ngModel">
      <div class="error" *ngIf="prenom.invalid && prenom.touched">Le prénom est requis.</div>
    </div>

    <div class="form-group">
      <label for="email">Email *</label>
      <input type="email" id="email" [(ngModel)]="clientData.email" name="email" required email #email="ngModel">
      <div class="error" *ngIf="email.invalid && email.touched">
        <div *ngIf="email.errors?.['required']">L'email est requis.</div>
        <div *ngIf="email.errors?.['email']">L'email n'est pas valide.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="password">Mot de passe *</label>
      <input type="password" id="password" [(ngModel)]="clientData.password" name="password" required minlength="6" #password="ngModel">
      <div class="error" *ngIf="password.invalid && password.touched">
        <div *ngIf="password.errors?.['required']">Le mot de passe est requis.</div>
        <div *ngIf="password.errors?.['minlength']">Le mot de passe doit faire au moins 6 caractères.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="telephone">Téléphone</label>
      <input type="tel" id="telephone" [(ngModel)]="clientData.telephone" name="telephone">
    </div>

    <div class="form-group">
      <label for="adresse">Adresse</label>
      <input type="text" id="adresse" [(ngModel)]="clientData.adresse" name="adresse">
    </div>

    <div class="form-group">
      <label for="dateNaissance">Date de naissance</label>
      <input type="date" id="dateNaissance" [(ngModel)]="clientData.dateNaissance" name="dateNaissance">
    </div>

    <div class="form-group">
      <label for="sexe">Sexe</label>
      <select id="sexe" [(ngModel)]="clientData.sexe" name="sexe">
        <option value="">Sélectionnez...</option>
        <option value="M">M</option>
        <option value="F">F</option>
        <option value="Autre">Autre</option>
        <option value="Non spécifié">Non spécifié</option>
      </select>
    </div>

    <div class="form-group">
      <label for="nationalite">Nationalité</label>
      <input type="text" id="nationalite" [(ngModel)]="clientData.nationalite" name="nationalite">
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!clientForm.form.valid || loading">Créer Client</button>
    <div class="loading" *ngIf="loading">Création en cours...</div>
    <div class="success" *ngIf="successMessage">{{ successMessage }}</div>
    <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
  </form>
</div>